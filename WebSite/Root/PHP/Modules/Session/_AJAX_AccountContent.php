<?php
/////////////////////////////////////////////////////////////////////////////////
// File : <Root>/PHP/Modules/Session/_AJAX_AccountContent.php
/////////////////////////////////////////////////////////////////////////////////
// Version : 1.0
// Began Code : 05/06/2012
// Status : Alpha
// Portability : Any
/////////////////////////////////////////////////////////////////////////////////
// Description : AJAX Request : AccountContent
/////////////////////////////////////////////////////////////////////////////////
// Part of Scarab-Engine, licensed under the
// Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License
//   http://creativecommons.org/licenses/by-nc-nd/3.0/
/////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////
// Known Bugs : None.
/////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////
// Includes
require_once "../../Master.php";

/////////////////////////////////////////////////////////////////////////////////
// Constants definitions

// Managers
$hLib = PHPLibrary::GetSingleton();

$hSystem = $hLib->System;

$hHTML = $hLib->HTML;
$hSQL = $hLib->SQL;
$hAJAX = $hLib->AJAX;

$hAccount = $hLib->Account;

/////////////////////////////////////////////////////////////////////////////////
// Build page

// Switch to SSL
$hSystem->EnsureSSL();

// Connect to database
$hSQL->ConnectTemporary();

// Get request parameters
$arrParameters = $hAJAX->GetRequestParameters( array( "AccountEvent", "AccountEventParam" ) );

$strAccountEvent = $arrParameters["AccountEvent"];
$strAccountEventParam = $arrParameters["AccountEventParam"];

// HTML output
$hHTML->DynamicTagStart();
	$hAccount->_DisplayContent( $strAccountEvent, $strAccountEventParam );
$hHTML->DynamicTagEnd();

// Disconnect from database
$hSQL->DisconnectTemporary();

?>